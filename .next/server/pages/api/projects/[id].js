"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/projects/[id]";
exports.ids = ["pages/api/projects/[id]"];
exports.modules = {

/***/ "formidable":
/*!*****************************!*\
  !*** external "formidable" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("formidable");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprojects%2F%5Bid%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fprojects%2F%5Bid%5D.js&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprojects%2F%5Bid%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fprojects%2F%5Bid%5D.js&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_projects_id_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/projects/[id].js */ \"(api)/./pages/api/projects/[id].js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_projects_id_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_projects_id_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/projects/[id]\",\n        pathname: \"/api/projects/[id]\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_projects_id_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnByb2plY3RzJTJGJTVCaWQlNUQmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmFwaSUyRnByb2plY3RzJTJGJTVCaWQlNUQuanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDeUQ7QUFDekQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLHNEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxzREFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zb2xhci1lbmVyZ3ktbGFuZGluZy1wYWdlLz9kMDBiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlcy9hcGkvcHJvamVjdHMvW2lkXS5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3Byb2plY3RzL1tpZF1cIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9wcm9qZWN0cy9baWRdXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprojects%2F%5Bid%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fprojects%2F%5Bid%5D.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/projects/[id].js":
/*!************************************!*\
  !*** ./pages/api/projects/[id].js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var formidable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! formidable */ \"formidable\");\n/* harmony import */ var formidable__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(formidable__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n// Disable the default body parser to handle form data with files\nconst config = {\n    api: {\n        bodyParser: false\n    }\n};\n// Path to our projects data file\nconst dataFilePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"data\", \"projects.json\");\nconst uploadsDir = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"public\", \"images\");\n// Ensure the data directory exists\nconst ensureDirectories = ()=>{\n    const dataDir = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"data\");\n    if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(dataDir)) {\n        fs__WEBPACK_IMPORTED_MODULE_0___default().mkdirSync(dataDir, {\n            recursive: true\n        });\n    }\n    if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(uploadsDir)) {\n        fs__WEBPACK_IMPORTED_MODULE_0___default().mkdirSync(uploadsDir, {\n            recursive: true\n        });\n    }\n};\n// Get all projects\nconst getProjects = ()=>{\n    ensureDirectories();\n    // If the file doesn't exist yet, return an empty array\n    if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(dataFilePath)) {\n        return [];\n    }\n    // Read the file and parse the JSON\n    const fileContents = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(dataFilePath, \"utf8\");\n    return JSON.parse(fileContents);\n};\n// Save projects to file\nconst saveProjects = (projects)=>{\n    ensureDirectories();\n    fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(dataFilePath, JSON.stringify(projects, null, 2));\n};\n// Parse form data including file uploads\nconst parseForm = async (req)=>{\n    return new Promise((resolve, reject)=>{\n        const form = new formidable__WEBPACK_IMPORTED_MODULE_2__.IncomingForm({\n            uploadDir: uploadsDir,\n            keepExtensions: true,\n            multiples: false\n        });\n        form.parse(req, (err, fields, files)=>{\n            if (err) return reject(err);\n            resolve({\n                fields,\n                files\n            });\n        });\n    });\n};\nasync function handler(req, res) {\n    // Get the project ID from the URL\n    const { id } = req.query;\n    const projectId = parseInt(id);\n    // Ensure directories exist\n    ensureDirectories();\n    // Get all projects\n    const projects = getProjects();\n    // Find the project with the given ID\n    const projectIndex = projects.findIndex((p)=>p.id === projectId);\n    // If the project doesn't exist, return 404\n    if (projectIndex === -1) {\n        return res.status(404).json({\n            success: false,\n            message: \"Project not found\"\n        });\n    }\n    // Handle different HTTP methods\n    switch(req.method){\n        case \"GET\":\n            // Return the project\n            res.status(200).json({\n                success: true,\n                project: projects[projectIndex]\n            });\n            break;\n        case \"PUT\":\n            try {\n                const { fields, files } = await parseForm(req);\n                // Update project data\n                const updatedProject = {\n                    ...projects[projectIndex],\n                    title: fields.title,\n                    description: fields.description,\n                    category: fields.category,\n                    location: fields.location,\n                    date: fields.date,\n                    power: fields.power,\n                    panels: fields.panels,\n                    economy: fields.economy,\n                    co2Reduction: fields.co2Reduction\n                };\n                // Handle image file if a new one was uploaded\n                if (files.image) {\n                    // Get the uploaded file\n                    const file = files.image;\n                    // Create a new filename based on project ID and original extension\n                    const fileExt = path__WEBPACK_IMPORTED_MODULE_1___default().extname(file.originalFilename);\n                    const newFilename = `project${projectId}${fileExt}`;\n                    // Move the file to its final location with the new name\n                    const finalPath = path__WEBPACK_IMPORTED_MODULE_1___default().join(uploadsDir, newFilename);\n                    fs__WEBPACK_IMPORTED_MODULE_0___default().renameSync(file.filepath, finalPath);\n                    // Set the image path for storing in the project data\n                    updatedProject.image = `/images/${newFilename}`;\n                }\n                // Update the project in the array\n                projects[projectIndex] = updatedProject;\n                // Save the updated projects array\n                saveProjects(projects);\n                res.status(200).json({\n                    success: true,\n                    project: updatedProject\n                });\n            } catch (error) {\n                res.status(500).json({\n                    success: false,\n                    message: error.message\n                });\n            }\n            break;\n        case \"DELETE\":\n            try {\n                // Get the project to delete\n                const projectToDelete = projects[projectIndex];\n                // Try to delete the project image if it exists and is not a default image\n                if (projectToDelete.image && !projectToDelete.image.includes(\"project\")) {\n                    const imagePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"public\", projectToDelete.image);\n                    if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(imagePath)) {\n                        fs__WEBPACK_IMPORTED_MODULE_0___default().unlinkSync(imagePath);\n                    }\n                }\n                // Remove the project from the array\n                projects.splice(projectIndex, 1);\n                // Save the updated projects array\n                saveProjects(projects);\n                res.status(200).json({\n                    success: true,\n                    message: \"Project deleted successfully\"\n                });\n            } catch (error) {\n                res.status(500).json({\n                    success: false,\n                    message: error.message\n                });\n            }\n            break;\n        default:\n            res.setHeader(\"Allow\", [\n                \"GET\",\n                \"PUT\",\n                \"DELETE\"\n            ]);\n            res.status(405).json({\n                success: false,\n                message: `Method ${req.method} Not Allowed`\n            });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QywwRUFBMEU7Z0JBQzFFLElBQUk2QixnQkFBZ0JWLEtBQUssSUFBSSxDQUFDVSxnQkFBZ0JWLEtBQUssQ0FBQ1csUUFBUSxDQUFDLFlBQVk7b0JBQ3ZFLE1BQU1DLFlBQVl6RSxnREFBUyxDQUFDTyxRQUFRQyxHQUFHLElBQUksVUFBVStELGdCQUFnQlYsS0FBSztvQkFDMUUsSUFBSTlELG9EQUFhLENBQUMwRSxZQUFZO3dCQUM1QjFFLG9EQUFhLENBQUMwRTtvQkFDaEI7Z0JBQ0Y7Z0JBRUEsb0NBQW9DO2dCQUNwQ3BELFNBQVNzRCxNQUFNLENBQUNqQyxjQUFjO2dCQUU5QixrQ0FBa0M7Z0JBQ2xDdEIsYUFBYUM7Z0JBRWJnQixJQUFJUSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO29CQUFFQyxTQUFTO29CQUFNQyxTQUFTO2dCQUErQjtZQUNoRixFQUFFLE9BQU9zQixPQUFPO2dCQUNkakMsSUFBSVEsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztvQkFBRUMsU0FBUztvQkFBT0MsU0FBU3NCLE1BQU10QixPQUFPO2dCQUFDO1lBQ2hFO1lBQ0E7UUFFRjtZQUNFWCxJQUFJdUMsU0FBUyxDQUFDLFNBQVM7Z0JBQUM7Z0JBQU87Z0JBQU87YUFBUztZQUMvQ3ZDLElBQUlRLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVDLFNBQVM7Z0JBQU9DLFNBQVMsQ0FBQyxPQUFPLEVBQUV2QixJQUFJd0IsTUFBTSxDQUFDLFlBQVksQ0FBQztZQUFDO0lBQ3ZGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zb2xhci1lbmVyZ3ktbGFuZGluZy1wYWdlLy4vcGFnZXMvYXBpL3Byb2plY3RzL1tpZF0uanM/ZDk5NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgeyBJbmNvbWluZ0Zvcm0gfSBmcm9tICdmb3JtaWRhYmxlJztcblxuLy8gRGlzYWJsZSB0aGUgZGVmYXVsdCBib2R5IHBhcnNlciB0byBoYW5kbGUgZm9ybSBkYXRhIHdpdGggZmlsZXNcbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XG4gIGFwaToge1xuICAgIGJvZHlQYXJzZXI6IGZhbHNlLFxuICB9LFxufTtcblxuLy8gUGF0aCB0byBvdXIgcHJvamVjdHMgZGF0YSBmaWxlXG5jb25zdCBkYXRhRmlsZVBhdGggPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ2RhdGEnLCAncHJvamVjdHMuanNvbicpO1xuY29uc3QgdXBsb2Fkc0RpciA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAncHVibGljJywgJ2ltYWdlcycpO1xuXG4vLyBFbnN1cmUgdGhlIGRhdGEgZGlyZWN0b3J5IGV4aXN0c1xuY29uc3QgZW5zdXJlRGlyZWN0b3JpZXMgPSAoKSA9PiB7XG4gIGNvbnN0IGRhdGFEaXIgPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ2RhdGEnKTtcbiAgaWYgKCFmcy5leGlzdHNTeW5jKGRhdGFEaXIpKSB7XG4gICAgZnMubWtkaXJTeW5jKGRhdGFEaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuICB9XG4gIGlmICghZnMuZXhpc3RzU3luYyh1cGxvYWRzRGlyKSkge1xuICAgIGZzLm1rZGlyU3luYyh1cGxvYWRzRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcbiAgfVxufTtcblxuLy8gR2V0IGFsbCBwcm9qZWN0c1xuY29uc3QgZ2V0UHJvamVjdHMgPSAoKSA9PiB7XG4gIGVuc3VyZURpcmVjdG9yaWVzKCk7XG4gIFxuICAvLyBJZiB0aGUgZmlsZSBkb2Vzbid0IGV4aXN0IHlldCwgcmV0dXJuIGFuIGVtcHR5IGFycmF5XG4gIGlmICghZnMuZXhpc3RzU3luYyhkYXRhRmlsZVBhdGgpKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIFxuICAvLyBSZWFkIHRoZSBmaWxlIGFuZCBwYXJzZSB0aGUgSlNPTlxuICBjb25zdCBmaWxlQ29udGVudHMgPSBmcy5yZWFkRmlsZVN5bmMoZGF0YUZpbGVQYXRoLCAndXRmOCcpO1xuICByZXR1cm4gSlNPTi5wYXJzZShmaWxlQ29udGVudHMpO1xufTtcblxuLy8gU2F2ZSBwcm9qZWN0cyB0byBmaWxlXG5jb25zdCBzYXZlUHJvamVjdHMgPSAocHJvamVjdHMpID0+IHtcbiAgZW5zdXJlRGlyZWN0b3JpZXMoKTtcbiAgZnMud3JpdGVGaWxlU3luYyhkYXRhRmlsZVBhdGgsIEpTT04uc3RyaW5naWZ5KHByb2plY3RzLCBudWxsLCAyKSk7XG59O1xuXG4vLyBQYXJzZSBmb3JtIGRhdGEgaW5jbHVkaW5nIGZpbGUgdXBsb2Fkc1xuY29uc3QgcGFyc2VGb3JtID0gYXN5bmMgKHJlcSkgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGZvcm0gPSBuZXcgSW5jb21pbmdGb3JtKHtcbiAgICAgIHVwbG9hZERpcjogdXBsb2Fkc0RpcixcbiAgICAgIGtlZXBFeHRlbnNpb25zOiB0cnVlLFxuICAgICAgbXVsdGlwbGVzOiBmYWxzZSxcbiAgICB9KTtcbiAgICBcbiAgICBmb3JtLnBhcnNlKHJlcSwgKGVyciwgZmllbGRzLCBmaWxlcykgPT4ge1xuICAgICAgaWYgKGVycikgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgICAgcmVzb2x2ZSh7IGZpZWxkcywgZmlsZXMgfSk7XG4gICAgfSk7XG4gIH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xuICAvLyBHZXQgdGhlIHByb2plY3QgSUQgZnJvbSB0aGUgVVJMXG4gIGNvbnN0IHsgaWQgfSA9IHJlcS5xdWVyeTtcbiAgY29uc3QgcHJvamVjdElkID0gcGFyc2VJbnQoaWQpO1xuICBcbiAgLy8gRW5zdXJlIGRpcmVjdG9yaWVzIGV4aXN0XG4gIGVuc3VyZURpcmVjdG9yaWVzKCk7XG4gIFxuICAvLyBHZXQgYWxsIHByb2plY3RzXG4gIGNvbnN0IHByb2plY3RzID0gZ2V0UHJvamVjdHMoKTtcbiAgXG4gIC8vIEZpbmQgdGhlIHByb2plY3Qgd2l0aCB0aGUgZ2l2ZW4gSURcbiAgY29uc3QgcHJvamVjdEluZGV4ID0gcHJvamVjdHMuZmluZEluZGV4KHAgPT4gcC5pZCA9PT0gcHJvamVjdElkKTtcbiAgXG4gIC8vIElmIHRoZSBwcm9qZWN0IGRvZXNuJ3QgZXhpc3QsIHJldHVybiA0MDRcbiAgaWYgKHByb2plY3RJbmRleCA9PT0gLTEpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogJ1Byb2plY3Qgbm90IGZvdW5kJyB9KTtcbiAgfVxuICBcbiAgLy8gSGFuZGxlIGRpZmZlcmVudCBIVFRQIG1ldGhvZHNcbiAgc3dpdGNoIChyZXEubWV0aG9kKSB7XG4gICAgY2FzZSAnR0VUJzpcbiAgICAgIC8vIFJldHVybiB0aGUgcHJvamVjdFxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBwcm9qZWN0OiBwcm9qZWN0c1twcm9qZWN0SW5kZXhdIH0pO1xuICAgICAgYnJlYWs7XG4gICAgICBcbiAgICBjYXNlICdQVVQnOlxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBmaWVsZHMsIGZpbGVzIH0gPSBhd2FpdCBwYXJzZUZvcm0ocmVxKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBwcm9qZWN0IGRhdGFcbiAgICAgICAgY29uc3QgdXBkYXRlZFByb2plY3QgPSB7XG4gICAgICAgICAgLi4ucHJvamVjdHNbcHJvamVjdEluZGV4XSxcbiAgICAgICAgICB0aXRsZTogZmllbGRzLnRpdGxlLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBmaWVsZHMuZGVzY3JpcHRpb24sXG4gICAgICAgICAgY2F0ZWdvcnk6IGZpZWxkcy5jYXRlZ29yeSxcbiAgICAgICAgICBsb2NhdGlvbjogZmllbGRzLmxvY2F0aW9uLFxuICAgICAgICAgIGRhdGU6IGZpZWxkcy5kYXRlLFxuICAgICAgICAgIHBvd2VyOiBmaWVsZHMucG93ZXIsXG4gICAgICAgICAgcGFuZWxzOiBmaWVsZHMucGFuZWxzLFxuICAgICAgICAgIGVjb25vbXk6IGZpZWxkcy5lY29ub215LFxuICAgICAgICAgIGNvMlJlZHVjdGlvbjogZmllbGRzLmNvMlJlZHVjdGlvblxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgLy8gSGFuZGxlIGltYWdlIGZpbGUgaWYgYSBuZXcgb25lIHdhcyB1cGxvYWRlZFxuICAgICAgICBpZiAoZmlsZXMuaW1hZ2UpIHtcbiAgICAgICAgICAvLyBHZXQgdGhlIHVwbG9hZGVkIGZpbGVcbiAgICAgICAgICBjb25zdCBmaWxlID0gZmlsZXMuaW1hZ2U7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IGZpbGVuYW1lIGJhc2VkIG9uIHByb2plY3QgSUQgYW5kIG9yaWdpbmFsIGV4dGVuc2lvblxuICAgICAgICAgIGNvbnN0IGZpbGVFeHQgPSBwYXRoLmV4dG5hbWUoZmlsZS5vcmlnaW5hbEZpbGVuYW1lKTtcbiAgICAgICAgICBjb25zdCBuZXdGaWxlbmFtZSA9IGBwcm9qZWN0JHtwcm9qZWN0SWR9JHtmaWxlRXh0fWA7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gTW92ZSB0aGUgZmlsZSB0byBpdHMgZmluYWwgbG9jYXRpb24gd2l0aCB0aGUgbmV3IG5hbWVcbiAgICAgICAgICBjb25zdCBmaW5hbFBhdGggPSBwYXRoLmpvaW4odXBsb2Fkc0RpciwgbmV3RmlsZW5hbWUpO1xuICAgICAgICAgIGZzLnJlbmFtZVN5bmMoZmlsZS5maWxlcGF0aCwgZmluYWxQYXRoKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTZXQgdGhlIGltYWdlIHBhdGggZm9yIHN0b3JpbmcgaW4gdGhlIHByb2plY3QgZGF0YVxuICAgICAgICAgIHVwZGF0ZWRQcm9qZWN0LmltYWdlID0gYC9pbWFnZXMvJHtuZXdGaWxlbmFtZX1gO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgdGhlIHByb2plY3QgaW4gdGhlIGFycmF5XG4gICAgICAgIHByb2plY3RzW3Byb2plY3RJbmRleF0gPSB1cGRhdGVkUHJvamVjdDtcbiAgICAgICAgXG4gICAgICAgIC8vIFNhdmUgdGhlIHVwZGF0ZWQgcHJvamVjdHMgYXJyYXlcbiAgICAgICAgc2F2ZVByb2plY3RzKHByb2plY3RzKTtcbiAgICAgICAgXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgcHJvamVjdDogdXBkYXRlZFByb2plY3QgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0pO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgICBcbiAgICBjYXNlICdERUxFVEUnOlxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gR2V0IHRoZSBwcm9qZWN0IHRvIGRlbGV0ZVxuICAgICAgICBjb25zdCBwcm9qZWN0VG9EZWxldGUgPSBwcm9qZWN0c1twcm9qZWN0SW5kZXhdO1xuICAgICAgICBcbiAgICAgICAgLy8gVHJ5IHRvIGRlbGV0ZSB0aGUgcHJvamVjdCBpbWFnZSBpZiBpdCBleGlzdHMgYW5kIGlzIG5vdCBhIGRlZmF1bHQgaW1hZ2VcbiAgICAgICAgaWYgKHByb2plY3RUb0RlbGV0ZS5pbWFnZSAmJiAhcHJvamVjdFRvRGVsZXRlLmltYWdlLmluY2x1ZGVzKCdwcm9qZWN0JykpIHtcbiAgICAgICAgICBjb25zdCBpbWFnZVBhdGggPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ3B1YmxpYycsIHByb2plY3RUb0RlbGV0ZS5pbWFnZSk7XG4gICAgICAgICAgaWYgKGZzLmV4aXN0c1N5bmMoaW1hZ2VQYXRoKSkge1xuICAgICAgICAgICAgZnMudW5saW5rU3luYyhpbWFnZVBhdGgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBwcm9qZWN0IGZyb20gdGhlIGFycmF5XG4gICAgICAgIHByb2plY3RzLnNwbGljZShwcm9qZWN0SW5kZXgsIDEpO1xuICAgICAgICBcbiAgICAgICAgLy8gU2F2ZSB0aGUgdXBkYXRlZCBwcm9qZWN0cyBhcnJheVxuICAgICAgICBzYXZlUHJvamVjdHMocHJvamVjdHMpO1xuICAgICAgICBcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnUHJvamVjdCBkZWxldGVkIHN1Y2Nlc3NmdWxseScgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0pO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgICBcbiAgICBkZWZhdWx0OlxuICAgICAgcmVzLnNldEhlYWRlcignQWxsb3cnLCBbJ0dFVCcsICdQVVQnLCAnREVMRVRFJ10pO1xuICAgICAgcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgbWVzc2FnZTogYE1ldGhvZCAke3JlcS5tZXRob2R9IE5vdCBBbGxvd2VkYCB9KTtcbiAgfVxufSJdLCJuYW1lcyI6WyJmcyIsInBhdGgiLCJJbmNvbWluZ0Zvcm0iLCJjb25maWciLCJhcGkiLCJib2R5UGFyc2VyIiwiZGF0YUZpbGVQYXRoIiwiam9pbiIsInByb2Nlc3MiLCJjd2QiLCJ1cGxvYWRzRGlyIiwiZW5zdXJlRGlyZWN0b3JpZXMiLCJkYXRhRGlyIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsInJlY3Vyc2l2ZSIsImdldFByb2plY3RzIiwiZmlsZUNvbnRlbnRzIiwicmVhZEZpbGVTeW5jIiwiSlNPTiIsInBhcnNlIiwic2F2ZVByb2plY3RzIiwicHJvamVjdHMiLCJ3cml0ZUZpbGVTeW5jIiwic3RyaW5naWZ5IiwicGFyc2VGb3JtIiwicmVxIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmb3JtIiwidXBsb2FkRGlyIiwia2VlcEV4dGVuc2lvbnMiLCJtdWx0aXBsZXMiLCJlcnIiLCJmaWVsZHMiLCJmaWxlcyIsImhhbmRsZXIiLCJyZXMiLCJpZCIsInF1ZXJ5IiwicHJvamVjdElkIiwicGFyc2VJbnQiLCJwcm9qZWN0SW5kZXgiLCJmaW5kSW5kZXgiLCJwIiwic3RhdHVzIiwianNvbiIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwibWV0aG9kIiwicHJvamVjdCIsInVwZGF0ZWRQcm9qZWN0IiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImNhdGVnb3J5IiwibG9jYXRpb24iLCJkYXRlIiwicG93ZXIiLCJwYW5lbHMiLCJlY29ub215IiwiY28yUmVkdWN0aW9uIiwiaW1hZ2UiLCJmaWxlIiwiZmlsZUV4dCIsImV4dG5hbWUiLCJvcmlnaW5hbEZpbGVuYW1lIiwibmV3RmlsZW5hbWUiLCJmaW5hbFBhdGgiLCJyZW5hbWVTeW5jIiwiZmlsZXBhdGgiLCJlcnJvciIsInByb2plY3RUb0RlbGV0ZSIsImluY2x1ZGVzIiwiaW1hZ2VQYXRoIiwidW5saW5rU3luYyIsInNwbGljZSIsInNldEhlYWRlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/projects/[id].js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fprojects%2F%5Bid%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fprojects%2F%5Bid%5D.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();